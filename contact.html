<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Contactez Knight Peterson Jean-Baptiste - Formulaire de contact et informations" />
  <meta name="author" content="Knight Peterson Jean-Baptiste" />
  <title>Contact - Knight Peterson Jean-Baptiste</title>
  
  <!-- Preconnect pour améliorer les performances -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  
  <!-- Fonts optimisées -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet" />
  
  <!-- Stylesheet -->
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <!-- Navigation fixe -->
  <nav class="navbar" role="navigation" aria-label="Navigation principale">
    <div class="nav-container">
      <a href="index.html" class="nav-logo">KPJB</a>
      <ul class="nav-menu">
        <li><a href="index.html" class="nav-link">Accueil</a></li>
        <li><a href="about.html" class="nav-link">À propos</a></li>
        <li><a href="projects.html" class="nav-link">Projets</a></li>
        <li><a href="cv.html" class="nav-link">CV</a></li>
        <li><a href="contact.html" class="nav-link active">Contact</a></li>
      </ul>
      <button class="nav-toggle" aria-label="Toggle navigation menu" aria-expanded="false">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
  </nav>

  <!-- Hero Section -->
  <header class="page-hero">
    <div class="page-hero-content">
      <h1 class="page-title">Contactez-moi</h1>
      <p class="page-subtitle">N'hésitez pas à me contacter pour discuter de projets, collaborations ou opportunités</p>
    </div>
    <div class="page-hero-overlay"></div>
  </header>

  <!-- Contenu principal -->
  <main>
    <!-- Section Contact -->
    <section class="contact-section">
      <div class="container">
        <div class="contact-wrapper">
          <!-- Informations de contact -->
          <div class="contact-info">
            <h2 class="section-title">Restons en contact</h2>
            <p class="contact-description">
              Je suis toujours ouvert à discuter de nouveaux projets, collaborations ou opportunités. 
              N'hésitez pas à me contacter via le formulaire ou directement par email.
            </p>

            <div class="contact-methods">
              <div class="contact-method">
                <div class="method-icon">
                  <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/>
                    <polyline points="22,6 12,13 2,6"/>
                  </svg>
                </div>
                <div class="method-content">
                  <h3 class="method-title">Email</h3>
                  <a href="mailto:knight.peterson@example.com" class="method-link">knight.peterson@example.com</a>
                </div>
              </div>

              <div class="contact-method">
                <div class="method-icon">
                  <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"/>
                  </svg>
                </div>
                <div class="method-content">
                  <h3 class="method-title">Téléphone</h3>
                  <a href="tel:+33612345678" class="method-link">+33 6 12 34 56 78</a>
                </div>
              </div>

              <div class="contact-method">
                <div class="method-icon">
                  <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"/>
                    <circle cx="12" cy="10" r="3"/>
                  </svg>
                </div>
                <div class="method-content">
                  <h3 class="method-title">Localisation</h3>
                  <p class="method-text">Clermont-Ferrand, France</p>
                </div>
              </div>
            </div>

            <!-- Réseaux sociaux -->
            <div class="social-links">
              <h3 class="social-title">Suivez-moi</h3>
              <div class="social-icons">
                <a href="#" class="social-icon" aria-label="LinkedIn" target="_blank" rel="noopener noreferrer">
                  <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"/>
                  </svg>
                </a>
                <a href="#" class="social-icon" aria-label="GitHub" target="_blank" rel="noopener noreferrer">
                  <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
                  </svg>
                </a>
                <a href="#" class="social-icon" aria-label="Twitter" target="_blank" rel="noopener noreferrer">
                  <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M23 3a10.9 10.9 0 01-3.14 1.53 4.48 4.48 0 00-7.86 3v1A10.66 10.66 0 013 4s-4 9 5 13a11.64 11.64 0 01-7 2c9 5 20 0 20-11.5a4.5 4.5 0 00-.08-.83A7.72 7.72 0 0023 3z"/>
                  </svg>
                </a>
              </div>
            </div>
          </div>

          <!-- Formulaire de contact -->
          <div class="contact-form-wrapper">
            <h2 class="section-title">Envoyez un message</h2>
            <form action="#" method="post" class="contact-form" id="contactForm" novalidate>
              <div class="form-group">
                <label for="name" class="form-label">
                  <span>Nom complet</span>
                  <span class="required">*</span>
                </label>
                <input 
                  type="text" 
                  id="name" 
                  name="name" 
                  class="form-input"
                  placeholder="Votre nom"
                  required
                  aria-required="true"
                  aria-describedby="name-error"
                />
                <span class="error-message" id="name-error" role="alert"></span>
              </div>

              <div class="form-group">
                <label for="email" class="form-label">
                  <span>Email</span>
                  <span class="required">*</span>
                </label>
                <input 
                  type="email" 
                  id="email" 
                  name="email" 
                  class="form-input"
                  placeholder="votre.email@example.com"
                  required
                  aria-required="true"
                  aria-describedby="email-error"
                />
                <span class="error-message" id="email-error" role="alert"></span>
              </div>

              <div class="form-group">
                <label for="subject" class="form-label">
                  <span>Sujet</span>
                  <span class="required">*</span>
                </label>
                <input 
                  type="text" 
                  id="subject" 
                  name="subject" 
                  class="form-input"
                  placeholder="Objet de votre message"
                  required
                  aria-required="true"
                  aria-describedby="subject-error"
                />
                <span class="error-message" id="subject-error" role="alert"></span>
              </div>

              <div class="form-group">
                <label for="message" class="form-label">
                  <span>Message</span>
                  <span class="required">*</span>
                </label>
                <textarea 
                  id="message" 
                  name="message" 
                  class="form-textarea"
                  rows="6"
                  placeholder="Votre message..."
                  required
                  aria-required="true"
                  aria-describedby="message-error"
                ></textarea>
                <span class="error-message" id="message-error" role="alert"></span>
                <div class="char-count">
                  <span id="charCount">0</span> / 1000 caractères
                </div>
              </div>

              <div class="form-group checkbox-group">
                <label class="checkbox-label">
                  <input 
                    type="checkbox" 
                    id="consent" 
                    name="consent" 
                    required
                    aria-required="true"
                  />
                  <span class="checkbox-custom"></span>
                  <span class="checkbox-text">
                    J'accepte que mes données soient utilisées pour me recontacter
                    <span class="required">*</span>
                  </span>
                </label>
                <span class="error-message" id="consent-error" role="alert"></span>
              </div>

              <button type="submit" class="btn btn-primary btn-submit">
                <span>Envoyer le message</span>
                <svg width="20" height="20" viewBox="0 0 20 20" fill="none" aria-hidden="true">
                  <path d="M2.5 17.5L17.5 2.5M17.5 2.5H7.5M17.5 2.5V12.5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
              </button>

              <div class="form-success" id="formSuccess" role="alert" aria-live="polite">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <polyline points="20 6 9 17 4 12"/>
                </svg>
                <span>Message envoyé avec succès ! Je vous répondrai dans les plus brefs délais.</span>
              </div>
            </form>
          </div>
        </div>
      </div>
    </section>
  </main>

  <!-- Footer -->
  <footer class="footer" role="contentinfo">
    <div class="container">
      <div class="footer-content">
        <p class="footer-text">&copy; 2025 Knight Peterson Jean-Baptiste. Tous droits réservés.</p>
        <div class="footer-links">
          <a href="index.html" class="footer-link">Accueil</a>
          <a href="about.html" class="footer-link">À propos</a>
          <a href="projects.html" class="footer-link">Projets</a>
          <a href="contact.html" class="footer-link">Contact</a>
        </div>
      </div>
    </div>
  </footer>

  <!-- Script pour la navigation mobile et le formulaire -->
  <script>
    // Navigation mobile toggle
    const navToggle = document.querySelector('.nav-toggle');
    const navMenu = document.querySelector('.nav-menu');
    
    if (navToggle) {
      navToggle.addEventListener('click', () => {
        const isExpanded = navToggle.getAttribute('aria-expanded') === 'true';
        navToggle.setAttribute('aria-expanded', !isExpanded);
        navMenu.classList.toggle('active');
        navToggle.classList.toggle('active');
      });
    }

    // Fermer le menu au clic sur un lien
    document.querySelectorAll('.nav-link').forEach(link => {
      link.addEventListener('click', () => {
        navMenu.classList.remove('active');
        navToggle.classList.remove('active');
        navToggle.setAttribute('aria-expanded', 'false');
      });
    });

    // Smooth scroll
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener('click', function (e) {
        e.preventDefault();
        const target = document.querySelector(this.getAttribute('href'));
        if (target) {
          target.scrollIntoView({
            behavior: 'smooth',
            block: 'start'
          });
        }
      });
    });

    // Gestion du formulaire
    const contactForm = document.getElementById('contactForm');
    const formSuccess = document.getElementById('formSuccess');
    const charCount = document.getElementById('charCount');
    const messageTextarea = document.getElementById('message');
    const maxChars = 1000;

    // Compteur de caractères
    if (messageTextarea && charCount) {
      messageTextarea.addEventListener('input', function() {
        const currentLength = this.value.length;
        charCount.textContent = currentLength;
        
        if (currentLength > maxChars) {
          charCount.parentElement.classList.add('warning');
          this.setCustomValidity(`Le message ne peut pas dépasser ${maxChars} caractères`);
        } else {
          charCount.parentElement.classList.remove('warning');
          this.setCustomValidity('');
        }
      });
    }

    // Validation en temps réel
    const formInputs = contactForm.querySelectorAll('input, textarea');
    formInputs.forEach(input => {
      input.addEventListener('blur', function() {
        validateField(this);
      });

      input.addEventListener('input', function() {
        if (this.classList.contains('error')) {
          validateField(this);
        }
      });
    });

    function validateField(field) {
      const errorElement = field.parentElement.querySelector('.error-message');
      const fieldId = field.id;
      let isValid = true;
      let errorMessage = '';

      // Réinitialiser
      field.classList.remove('error');
      if (errorElement) {
        errorElement.textContent = '';
        errorElement.setAttribute('aria-hidden', 'true');
      }

      // Validation spécifique par champ
      if (field.hasAttribute('required') && !field.value.trim()) {
        isValid = false;
        errorMessage = 'Ce champ est obligatoire';
      } else if (fieldId === 'email' && field.value) {
        const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        if (!emailRegex.test(field.value)) {
          isValid = false;
          errorMessage = 'Veuillez entrer une adresse email valide';
        }
      } else if (fieldId === 'message' && field.value.length > maxChars) {
        isValid = false;
        errorMessage = `Le message ne peut pas dépasser ${maxChars} caractères`;
      }

      // Validation checkbox
      if (fieldId === 'consent' && !field.checked) {
        isValid = false;
        errorMessage = 'Vous devez accepter pour continuer';
      }

      // Afficher l'erreur
      if (!isValid) {
        field.classList.add('error');
        if (errorElement) {
          errorElement.textContent = errorMessage;
          errorElement.setAttribute('aria-hidden', 'false');
        }
      }

      return isValid;
    }

    // Soumission du formulaire
    if (contactForm) {
      contactForm.addEventListener('submit', function(e) {
        e.preventDefault();
        
        // Valider tous les champs
        let isFormValid = true;
        formInputs.forEach(input => {
          if (!validateField(input)) {
            isFormValid = false;
          }
        });

        // Valider la checkbox
        const consentCheckbox = document.getElementById('consent');
        if (consentCheckbox && !validateField(consentCheckbox)) {
          isFormValid = false;
        }

        if (isFormValid) {
          // Simuler l'envoi (remplacer par votre logique d'envoi)
          const submitButton = contactForm.querySelector('.btn-submit');
          const originalText = submitButton.innerHTML;
          
          submitButton.disabled = true;
          submitButton.innerHTML = '<span>Envoi en cours...</span>';

          // Simulation d'envoi (à remplacer par un appel API réel)
          setTimeout(() => {
            formSuccess.classList.add('show');
            contactForm.reset();
            charCount.textContent = '0';
            submitButton.disabled = false;
            submitButton.innerHTML = originalText;

            // Scroll vers le message de succès
            formSuccess.scrollIntoView({ behavior: 'smooth', block: 'nearest' });

            // Masquer le message après 5 secondes
            setTimeout(() => {
              formSuccess.classList.remove('show');
            }, 5000);
          }, 1500);
        } else {
          // Focus sur le premier champ en erreur
          const firstError = contactForm.querySelector('.error');
          if (firstError) {
            firstError.focus();
            firstError.scrollIntoView({ behavior: 'smooth', block: 'center' });
          }
        }
      });
    }

    // Animation au scroll
    const observerOptions = {
      threshold: 0.1,
      rootMargin: '0px 0px -50px 0px'
    };

    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add('fade-in');
        }
      });
    }, observerOptions);

    document.querySelectorAll('.contact-method, .contact-form-wrapper').forEach(el => {
      observer.observe(el);
    });
  </script>
</body>
</html>
